<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <title>Echo AI - è°ƒè¯•è¯Šæ–­é¡µé¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .success {
            color: #28a745;
            background-color: #d4edda;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .error {
            color: #dc3545;
            background-color: #f8d7da;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .warning {
            color: #856404;
            background-color: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .info {
            color: #0c5460;
            background-color: #d1ecf1;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
        pre {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        .test-results {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ Echo AI - è°ƒè¯•è¯Šæ–­é¡µé¢</h1>
        <p>è¿™ä¸ªé¡µé¢ç”¨æ¥å¸®åŠ©è¯Šæ–­Reactåº”ç”¨ä¸ºä»€ä¹ˆåœ¨ä½ çš„æµè§ˆå™¨ä¸­æ˜¾ç¤ºç©ºç™½ã€‚</p>
        
        <div id="js-test" class="warning">æ­£åœ¨æµ‹è¯•JavaScriptæ‰§è¡Œ...</div>
        
        <div class="test-results">
            <h3>ğŸ” è¯Šæ–­æ­¥éª¤</h3>
            <button onclick="testMainPage()">1. æµ‹è¯•ä¸»é¡µé¢åŠ è½½</button>
            <button onclick="testBundle()">2. æµ‹è¯•Bundle.js</button>
            <button onclick="checkConsole()">3. æ£€æŸ¥æ§åˆ¶å°é”™è¯¯</button>
            <button onclick="clearCache()">4. æ¸…é™¤ç¼“å­˜æŒ‡å—</button>
            <button onclick="forceVisibleMode()" style="background-color: #dc3545;">ğŸš¨ å¼ºåˆ¶æ˜¾ç¤ºæ¨¡å¼</button>
            
            <div id="test-output"></div>
        </div>

        <div class="info">
            <h4>ğŸ“‹ è¯·æ‰§è¡Œä»¥ä¸‹æ£€æŸ¥æ­¥éª¤ï¼š</h4>
            <ol>
                <li><strong>æ£€æŸ¥æ§åˆ¶å°é”™è¯¯</strong>ï¼šæŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡»Consoleæ ‡ç­¾ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰çº¢è‰²é”™è¯¯</li>
                <li><strong>æ£€æŸ¥ç½‘ç»œ</strong>ï¼šåœ¨å¼€å‘è€…å·¥å…·çš„Networkæ ‡ç­¾ä¸­ï¼Œåˆ·æ–°é¡µé¢ï¼Œç¡®è®¤bundle.jsçŠ¶æ€æ˜¯200</li>
                <li><strong>å¼ºåˆ¶åˆ·æ–°</strong>ï¼šæŒ‰Ctrl+F5 (Windows) æˆ– Cmd+Shift+R (Mac)</li>
                <li><strong>æ¸…é™¤ç¼“å­˜</strong>ï¼šåœ¨å¼€å‘è€…å·¥å…·Networkæ ‡ç­¾å‹¾é€‰"Disable cache"</li>
            </ol>
        </div>

        <div id="browser-info"></div>
        <div id="network-info"></div>
    </div>

    <script>
        // æµ‹è¯•JavaScriptæ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            const testDiv = document.getElementById('js-test');
            testDiv.innerHTML = '<div class="success">âœ… JavaScript æ‰§è¡Œæ­£å¸¸ï¼æ—¶é—´: ' + new Date().toLocaleString() + '</div>';
            
            // æ˜¾ç¤ºæµè§ˆå™¨ä¿¡æ¯
            displayBrowserInfo();
        });

        function displayBrowserInfo() {
            const browserInfo = document.getElementById('browser-info');
            const info = {
                userAgent: navigator.userAgent,
                cookieEnabled: navigator.cookieEnabled,
                onLine: navigator.onLine,
                language: navigator.language,
                platform: navigator.platform,
                javaEnabled: navigator.javaEnabled ? navigator.javaEnabled() : 'N/A',
                doNotTrack: navigator.doNotTrack,
                hardwareConcurrency: navigator.hardwareConcurrency,
                maxTouchPoints: navigator.maxTouchPoints
            };
            
            browserInfo.innerHTML = `
                <div class="info">
                    <h4>ğŸŒ æµè§ˆå™¨ä¿¡æ¯</h4>
                    <pre>${JSON.stringify(info, null, 2)}</pre>
                </div>
            `;
        }

        function testMainPage() {
            const output = document.getElementById('test-output');
            output.innerHTML = '<div class="info">æ­£åœ¨æµ‹è¯•ä¸»é¡µé¢...</div>';
            
            fetch('http://localhost:3000/')
                .then(response => {
                    if (response.ok) {
                        return response.text();
                    }
                    throw new Error('HTTP ' + response.status + ': ' + response.statusText);
                })
                .then(html => {
                    const hasRoot = html.includes('<div id="root">');
                    const hasBundle = html.includes('bundle.js');
                    
                    if (hasRoot && hasBundle) {
                        output.innerHTML = '<div class="success">âœ… ä¸»é¡µé¢HTMLç»“æ„æ­£å¸¸</div>';
                    } else {
                        output.innerHTML = '<div class="error">âŒ ä¸»é¡µé¢HTMLç»“æ„å¼‚å¸¸</div>';
                    }
                })
                .catch(error => {
                    output.innerHTML = '<div class="error">âŒ ä¸»é¡µé¢åŠ è½½å¤±è´¥: ' + error.message + '</div>';
                });
        }

        function testBundle() {
            const output = document.getElementById('test-output');
            output.innerHTML = '<div class="info">æ­£åœ¨æµ‹è¯•Bundle.js...</div>';
            
            fetch('http://localhost:3000/static/js/bundle.js')
                .then(response => {
                    if (response.ok) {
                        output.innerHTML = '<div class="success">âœ… Bundle.js åŠ è½½æ­£å¸¸ (çŠ¶æ€: ' + response.status + ')</div>';
                    } else {
                        throw new Error('HTTP ' + response.status + ': ' + response.statusText);
                    }
                })
                .catch(error => {
                    output.innerHTML = '<div class="error">âŒ Bundle.js åŠ è½½å¤±è´¥: ' + error.message + '</div>';
                });
        }

        function checkConsole() {
            const output = document.getElementById('test-output');
            output.innerHTML = `
                <div class="warning">
                    <h4>ğŸ” æ£€æŸ¥æ§åˆ¶å°æ­¥éª¤ï¼š</h4>
                    <ol>
                        <li>æŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
                        <li>ç‚¹å‡» <strong>Console</strong> æ ‡ç­¾</li>
                        <li>è®¿é—® <a href="http://localhost:3000" target="_blank">http://localhost:3000</a></li>
                        <li>æŸ¥çœ‹æ˜¯å¦æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯</li>
                        <li>å°†é”™è¯¯ä¿¡æ¯å¤åˆ¶ç»™AIåŠ©æ‰‹</li>
                    </ol>
                </div>
            `;
        }

        function clearCache() {
            const output = document.getElementById('test-output');
            output.innerHTML = `
                <div class="info">
                    <h4>ğŸ—‘ï¸ æ¸…é™¤ç¼“å­˜æ­¥éª¤ï¼š</h4>
                    <p><strong>æ–¹æ³•1 - å¼ºåˆ¶åˆ·æ–°ï¼š</strong></p>
                    <ul>
                        <li>Windows: <code>Ctrl + F5</code> æˆ– <code>Ctrl + Shift + R</code></li>
                        <li>Mac: <code>Cmd + Shift + R</code></li>
                    </ul>
                    <p><strong>æ–¹æ³•2 - ç¦ç”¨ç¼“å­˜ï¼š</strong></p>
                    <ol>
                        <li>æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
                        <li>ç‚¹å‡» <strong>Network</strong> æ ‡ç­¾</li>
                        <li>å‹¾é€‰ <strong>"Disable cache"</strong></li>
                        <li>åˆ·æ–°é¡µé¢</li>
                    </ol>
                    <p><strong>æ–¹æ³•3 - æ¸…é™¤æµè§ˆå™¨æ•°æ®ï¼š</strong></p>
                    <ul>
                        <li>Chrome: Settings â†’ Privacy and Security â†’ Clear browsing data</li>
                        <li>Firefox: History â†’ Clear Recent History</li>
                        <li>Safari: Develop â†’ Empty Caches</li>
                    </ul>
                </div>
            `;
        }

        function forceVisibleMode() {
            const output = document.getElementById('test-output');
            output.innerHTML = '<div class="info">æ­£åœ¨å¼ºåˆ¶æ˜¾ç¤ºæ¨¡å¼...</div>';
            
            // åœ¨ä¸»é¡µé¢ä¸­æ³¨å…¥å¼ºåˆ¶æ˜¾ç¤ºCSS
            try {
                const newWindow = window.open('http://localhost:3000', '_blank');
                if (newWindow) {
                    newWindow.addEventListener('load', function() {
                        const style = newWindow.document.createElement('style');
                        style.textContent = `
                            body, #root { 
                                background-color: #1E1E2F !important; 
                                color: #F8F8F8 !important; 
                                min-height: 100vh !important;
                            }
                            * { 
                                color: #F8F8F8 !important; 
                            }
                            button { 
                                background-color: #4FD1C5 !important; 
                                color: #1A202C !important; 
                            }
                        `;
                        newWindow.document.head.appendChild(style);
                        
                        // æ·»åŠ è°ƒè¯•æ¨¡å¼ç±»
                        newWindow.document.body.classList.add('debug-mode');
                    });
                    output.innerHTML = '<div class="success">âœ… å·²åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€å¼ºåˆ¶æ˜¾ç¤ºæ¨¡å¼</div>';
                } else {
                    output.innerHTML = '<div class="error">âŒ æ— æ³•æ‰“å¼€æ–°çª—å£ï¼Œè¯·æ£€æŸ¥å¼¹çª—æ‹¦æˆªè®¾ç½®</div>';
                }
            } catch (error) {
                output.innerHTML = '<div class="error">âŒ å¼ºåˆ¶æ˜¾ç¤ºå¤±è´¥: ' + error.message + '</div>';
            }
        }
    </script>
</body>
</html> 